pipeline{
    agent any
    tools{
        maven 'M313'
    }
    stages{
        stage('Build Jar file'){
            steps{
                dir('billbreaker'){
                    script{
                        sh """
                           echo "Start building"
                           ls -al
                           mvn clean build
                           """
                    }
                }
            }
        }
        stage('Docker build and push '){
            steps{
                script{
                   sh """
                      echo "Docker build and push"
                      docker build -t nooli/billbreaker:v1 .
                      """
                }
            }


        }
    }
}